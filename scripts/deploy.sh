#!/bin/bash\n\n# Job Portal Deployment Script\necho \"üöÄ Deploying Job Portal...\"\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m' # No Color\n\n# Function to print colored output\nprint_status() {\n    echo -e \"${GREEN}‚úÖ $1${NC}\"\n}\n\nprint_warning() {\n    echo -e \"${YELLOW}‚ö†Ô∏è  $1${NC}\"\n}\n\nprint_error() {\n    echo -e \"${RED}‚ùå $1${NC}\"\n}\n\n# Check if git repo is clean\nif [ -n \"$(git status --porcelain)\" ]; then\n    print_warning \"You have uncommitted changes. Commit them before deploying.\"\n    git status --short\n    read -p \"Continue anyway? (y/n): \" -n 1 -r\n    echo\n    if [[ ! $REPLY =~ ^[Yy]$ ]]; then\n        exit 1\n    fi\nfi\n\n# Build and test locally first\nprint_status \"Building applications locally...\"\n\n# Build shared package\necho \"Building shared package...\"\ncd shared\nnpm run build\nif [ $? -ne 0 ]; then\n    print_error \"Shared build failed\"\n    exit 1\nfi\ncd ..\n\n# Build backend\necho \"Building backend...\"\ncd backend\nnpm run build\nif [ $? -ne 0 ]; then\n    print_error \"Backend build failed\"\n    exit 1\nfi\ncd ..\n\n# Build frontend\necho \"Building frontend...\"\ncd frontend\nnpm run build\nif [ $? -ne 0 ]; then\n    print_error \"Frontend build failed\"\n    exit 1\nfi\ncd ..\n\nprint_status \"All builds successful!\"\n\n# Check if environment files exist\nif [ ! -f \"backend/.env\" ] && [ ! -f \"frontend/.env\" ]; then\n    print_warning \"No environment files found locally. Make sure to set them in your deployment platforms.\"\nfi\n\n# Commit and push changes\nprint_status \"Committing and pushing changes...\"\ngit add .\ngit commit -m \"Deploy: $(date +'%Y-%m-%d %H:%M:%S')\" || print_warning \"No new changes to commit\"\ngit push\n\nprint_status \"Code pushed to repository!\"\n\n# Deployment instructions\necho \"\"\necho \"üåê Next Steps:\"\necho \"1. Backend (Railway):\"\necho \"   - Go to https://railway.app\"\necho \"   - Create new project from GitHub\"\necho \"   - Select 'backend' folder\"\necho \"   - Add environment variables\"\necho \"   - Deploy!\"\necho \"\"\necho \"2. Frontend (Vercel):\"\necho \"   - Go to https://vercel.com\"\necho \"   - Create new project from GitHub\"\necho \"   - Set root directory to 'frontend'\"\necho \"   - Add environment variables\"\necho \"   - Deploy!\"\necho \"\"\necho \"3. Don't forget to:\"\necho \"   - Update CORS_ORIGIN in Railway with your Vercel URL\"\necho \"   - Update VITE_API_URL in Vercel with your Railway URL\"\necho \"   - Run database migrations in Railway console\"\necho \"\"\nprint_status \"Deployment preparation complete! üéâ\"\necho \"Check DEPLOYMENT.md for detailed instructions.\"